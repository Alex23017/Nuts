(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{const e="cart";let t=JSON.parse(localStorage.getItem(e))||[];const n=document.querySelector(".basket__count");if(n){const e=(JSON.parse(localStorage.getItem("cart"))||[]).reduce((e,t)=>e+t.quantity,0);n.textContent=e}function c(){localStorage.setItem(e,JSON.stringify(t))}const a=document.querySelector(".order__call-basket"),r=document.querySelector(".basket__overlay");function o(){const e=[document.querySelector(".cart__basket"),document.querySelector(".cart__bag")].filter(Boolean),n=document.querySelectorAll(".cart__bag"),a=document.querySelectorAll(".total"),i=document.querySelector(".count"),l=document.querySelector(".basket__count");e&&e.forEach(e=>{e.innerHTML=""});let s=0,u=0;t.forEach((n,a)=>{s+=n.price*n.quantity,u+=n.quantity,e.forEach(e=>{const r=document.createElement("div");r.className="cart-item",r.innerHTML=`\n         \n      <div class="input__body">\n      <p class="input__body-name">${n.name}</p>\n     \n\n      <div class="input__count">\n            <img src="img/basket/arrowLeft.webp" alt="left" class="input__img--right decrease">\n       <input class="input__card" readonly type="text" placeholder=${n.quantity}> \n       <img src="img/basket/arrowRight.webp" alt="right" class="input__img--left increase">\n\n   \n      </div>\n      <p class="input__price">${n.price} грн.</p>\n      <p class="input__price-all">${n.price*n.quantity} грн.</p>\n         <button class="remove">x</button>\n      </div>\n      \n    `,r.querySelector(".increase").addEventListener("click",()=>function(e){t[e].quantity++,c(),o()}(a)),r.querySelector(".decrease").addEventListener("click",()=>function(e){t[e].quantity--,t[e].quantity<=0&&t.splice(e,1),c(),o()}(a)),r.querySelector(".remove").addEventListener("click",()=>function(e){t.splice(e,1),c(),o()}(a)),e.appendChild(r)})}),i&&(i.textContent=u),l&&(l.textContent=u),a&&a.forEach(e=>{e.textContent=s}),n.forEach(e=>{""===e.innerHTML&&r.classList.remove("active")})}document.querySelectorAll(".add-to-cart").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const n=e.target.closest(".product");if(!n)return;const a=n.dataset.name,r=parseFloat(n.dataset.price),i=t.find(e=>e.name===a&&e.price===r);i?i.quantity++:t.push({name:a,price:r,quantity:1}),c(),o()})}),o(),a.addEventListener("click",e=>{r&&(r.classList.toggle("active"),"/basket.html"===window.location.pathname&&e.preventDefault())})})})();
//# sourceMappingURL=basket.bundle.js.map